{% load static %}
<link rel="stylesheet" href="{% static 'list/style.css' %}">
<h2>{{ construct_name }}</h2>
<a href="{% url 'list:detail' construct_id %}">go to the project</a>
{% if incoming_transactions %}
<h3 id='incoming-transactions'>Incoming transactions: &#163; {{ income|floatformat:2 }}</h3>
<select id='incoming-transaction-select'>
	{% for tra in incoming_transactions %}
	<option value="{% url 'list:view_transaction' tra.id %}">
	&#163; {{ tra.amount|floatformat:2 }}
	from {{ tra.from_txt }}
	to {{ tra.to_txt }}
	on {{ tra.date }}
	</option>
	{% endfor %}
</select>
<div id='incoming-transaction-link'></div>
<script>
	document.getElementById('incoming-transaction-select').addEventListener('change', function() {
			var link = document.getElementById('incoming-transaction-link');
			link.innerHTML = "<a href='" + this.value + "'>VIEW</a>";
		});
</script>
{% endif %}
{% if outgoing_transactions %}
<h3 id='outgoing-transactions'>Outgoing transactions: &#163; {{ outcome|floatformat:2 }}</h3>
<select id='outgoing-transaction-select'>
	{% for tra in outgoing_transactions %}
	<option value="{% url 'list:view_transaction' tra.id %}">
	&#163; {{ tra.amount|floatformat:2 }}
	from {{ tra.from_txt }}
	to {{ tra.to_txt }}
	on {{ tra.date }}
	</option>
	{% endfor %}
</select>
<div id='outgoing-transaction-link'></div>
<script>
	document.getElementById('outgoing-transaction-select').addEventListener('change', function() {
			var link = document.getElementById('outgoing-transaction-link');
			link.innerHTML = "<a href='" + this.value + "'>VIEW</a>";
		});
</script>
{% endif %}
{% if salary_transactions %}
<h3 id='salary-transactions'>Salary transactions (subset of the outgoing transactions above): &#163; {{ total_salary|floatformat:2 }}</h3>
<select id='salary-transaction-select'>
	{% for tra in salary_transactions %}
	<option value="{% url 'list:view_transaction' tra.id %}">
	&#163; {{ tra.amount|floatformat:2 }}
	from {{ tra.from_txt }}
	to {{ tra.to_txt }}
	on {{ tra.date }}
	</option>
	{% endfor %}
</select>
<div id='salary-transaction-link'></div>
<script>
	document.getElementById('salary-transaction-select').addEventListener('change', function() {
			var link = document.getElementById('salary-transaction-link');
			link.innerHTML = "<a href='" + this.value + "'>VIEW</a>";
		});
</script>
{% endif %}
<h3>Incoming invoices</h3>
<h3 id="incoming-unpaid-invoices">Incoming invoices unpaid</h3>
<h3>Outgoing invoices</h3>
<h3 id="outgoing-unpaid-invoices">Outgoing invoices unpaid</h3>
