{% extends 'base.html' %}
{% block title %}Print Invoice{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'list/print.css' %}">
<table>
    <tbody>
        <tr>
            <td id='logo' colspan='3'>
                <img src="{% static 'images/automation-logo.png' %}" width="200">
            </td>
            <td id='invoice'>
                INVOICE
            </td>
        </tr>
        <tr>
            <td id='seller_info' colspan='2'>
                {% comment %}
                    'Will get it from his account' 
                {% endcomment %}
                {{ user.first_name }} {{ user.last_name }}<br>
                {{ user.company }}<br>
                {{ user.business_address|linebreaksbr }}<br>
                {{ user.email }}<br>
                {{ user.additional_info }}<br>
            </td>
            <td id='invoice_info' colspan='2'>
                <div id='invoice-info-table'>
                    <table>
                        <tr>
                            <td id='date'><b>Date:</b></td>
                            <td>{{ invoice.issue_date }}</td>
                        </tr>
                        <tr>
                            <td id='invoice_id'><b>Invoice ID:</b></td>
                            <td>{{ invoice.number }}</td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
        <tr>
            <td id='bill_to_line' colspan='4'>
                Bill To:
            </td>
        </tr>
        <tr>
            <td id='bill-to-content'>
                {{ invoice.construct.owner_name_text }}<br>
                {{ invoice.construct.address_text|linebreaksbr }}<br>
            </td>
        </tr>
        <tr>
            <td class='brown-line' id='quantity'>Quantity</td>
            <td class='brown-line' id='description'>Description</td>
            <td class='brown-line' id='unit-price'>Unit price</td>
            <td class='brown-line' id='amount'>Amount</td>
        </tr>
        {% comment %}
        <tr>
            <td class='light-brown' style='text-align: center'>1</td>
            <td class='light-brown'>Stage 1</td>
            <td class='light-brown'>£ </td>
            <td class='light-brown'>£ </td>
        </tr>
        <tr>
            <td class='just-white' style='text-align: center'>1</td>
            <td class='just-white'>Stage 2</td>
            <td class='just-white'>£ </td>
            <td class='just-white'>£ </td>
        </tr>
        {% endcomment %}
        {% for line in lines %}
            <tr>
                <td class='{{ line.class }}' style='text-align: center'>{{ line.quantity }}</td>
                <td class='{{ line.class }}'>{{ line.description }}</td>
                <td class='{{ line.class }}'>£ {{ line.unit_price }}</td>
                <td class='{{ line.class }}'>£ {{ line.amount }}</td>
            </tr>
        {% endfor %}
        <tr>
            <td colspan='3'>Subtotal:</td>
            <td>£ {{ invoice.amount }}</td>
        </tr>
        <tr>
            <td colspan='2'>
                <div id='notice'>
                    {{ user.invoice_footer|linebreaksbr }}
                    <p class='thank-you'>
                        Thank you for your business!
                    </p>
                </div>
            </td>
            <td colspan='2' id='vat-total'>
                <table id='vat-total-table'>
                    <tr>
                        <td class='vat-total-fields vat-total-label'>VAT, {{ invoice.construct.vat_percent_num }}%:</td>
                        <td class='vat-total-fields vat-total-value'>£ {{ vat_from_total }}</td>
                    </tr>
                    <tr>
                        <td class='vat-total-fields vat-total-label'>Total including VAT:</td>
                        <td class='vat-total-fields vat-total-value'>£ {{ total_and_vat }}</td>
                    </tr>
                </table>
            </td>
        </tr>
    </tbody>
</table>
{% endblock %}
